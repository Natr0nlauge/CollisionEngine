\doxysection{Simulation.\+hpp}
\hypertarget{_simulation_8hpp_source}{}\label{_simulation_8hpp_source}\index{CollisionEngine/Simulation.hpp@{CollisionEngine/Simulation.hpp}}
\mbox{\hyperlink{_simulation_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}sfml/Graphics.hpp"{}}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_edge_structure_8hpp}{EdgeStructure.hpp}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_collision_detector_8hpp}{CollisionDetector.hpp}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_boundary_element_8hpp}{BoundaryElement.hpp}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_player_controller_8hpp}{PlayerController.hpp}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <mutex>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }Simulation\ \{}
\DoxyCodeLine{00012\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{comment}{//\ Singleton\ accessor}}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keyword}{static}\ Simulation\ \&\ \mbox{\hyperlink{class_simulation_a7b05c9662b46483be6de082c3a068cf9}{getInstance}}();}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{comment}{//\ Destructor}}
\DoxyCodeLine{00017\ \ \ \ \ \mbox{\hyperlink{class_simulation_a80fad3f57dfaf195a36f7bc49bc88279}{\string~Simulation}}();}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{comment}{//\ Public\ methods}}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simulation_addf48743416b716a91b04a88b22a0e27}{addBoundaryElement}}(\mbox{\hyperlink{class_boundary_element}{BoundaryElement}}\ *\ i\_boundaryElement);}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simulation_a84878eafad636b91fa491ac77331017e}{initWindow}}(\textcolor{keywordtype}{float}\ i\_viewWidth\ =\ DEFAULT\_VIEW\_WIDTH,\ \textcolor{keywordtype}{float}\ i\_viewHeight\ =\ DEFAULT\_VIEW\_HEIGHT,}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ i\_frameRate\ =\ DEFAULT\_FRAME\_RATE);}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simulation_ae5c367f87c0b5dc9740bc6d00e44e72c}{run}}();}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simulation_a29635ac084979016e85dbebc92b2ad81}{addCollisionPartner}}(\mbox{\hyperlink{class_rigid_body}{RigidBody}}\ *\ i\_collisionPartner);}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simulation_aa411c38fc678b65c547d2081c9c59ec3}{addPlayer}}(\mbox{\hyperlink{class_player_controller}{PlayerController}}\ *\ i\_playerController);}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simulation_afc2a5620f950a14393e3f8a9e8d3c098}{deleteCollisionPartner}}(\textcolor{keywordtype}{int}\ i\_index);}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simulation_afc2a5620f950a14393e3f8a9e8d3c098}{deleteCollisionPartner}}(\mbox{\hyperlink{class_rigid_body}{RigidBody}}\ *\ i\_bodyToDelete);}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{comment}{//\ Singleton\ implementation}}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{static}\ std::unique\_ptr<Simulation>\ s\_instance;}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{static}\ std::mutex\ mtx;}
\DoxyCodeLine{00033\ \ \ \ \ Simulation();}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{comment}{//\ Deleted\ copy\ constructor\ and\ assignment\ operator}}
\DoxyCodeLine{00036\ \ \ \ \ Simulation(\textcolor{keyword}{const}\ Simulation\ \&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00037\ \ \ \ \ Simulation\ \&\ operator=(\textcolor{keyword}{const}\ Simulation\ \&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{comment}{//\ Private\ methods}}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordtype}{void}\ update();}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordtype}{void}\ evaluateCollisionEvent(\mbox{\hyperlink{class_collision_event}{CollisionEvent}}\ \&\ i\_collisionEvent);}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{void}\ handleEvents();}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keywordtype}{void}\ initCollisionMarkers();}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keywordtype}{void}\ cleanupMember(std::vector<T*>\&\ member);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{comment}{//\ Member\ variables}}
\DoxyCodeLine{00047\ \ \ \ \ sf::Clock\ m\_clock;}
\DoxyCodeLine{00048\ \ \ \ \ std::vector<RigidBody\ *>\ m\_collisionPartners;}
\DoxyCodeLine{00049\ \ \ \ \ std::vector<PlayerController\ *>\ m\_players;}
\DoxyCodeLine{00050\ \ \ \ \ sf::RectangleShape\ *\ m\_collisionLocationMarker\ =\ \textcolor{keyword}{new}\ sf::RectangleShape(\{10.0f,\ 10.0f\});}
\DoxyCodeLine{00051\ \ \ \ \ sf::RectangleShape\ *\ m\_collisionNormalMarkers[2]\ =\ \{\textcolor{keyword}{new}\ sf::RectangleShape(\{50.0f,\ 0.0f\}),\ \textcolor{keyword}{new}\ sf::RectangleShape(\{0.0f,\ 50.0f\})\};}
\DoxyCodeLine{00052\ \ \ \ \ std::vector<BoundaryElement\ *>\ m\_boundaryElements;}
\DoxyCodeLine{00053\ \ \ \ \ \mbox{\hyperlink{class_collision_detector}{CollisionDetector}}\ \&\ m\_cd\ =\ \mbox{\hyperlink{class_collision_detector_ab804e2427ad73a9bbf95e141c759ace4}{CollisionDetector::getInstance}}();}
\DoxyCodeLine{00054\ \ \ \ \ sf::View\ m\_view;}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keywordtype}{float}\ m\_dT\ =\ 1/DEFAULT\_FRAME\_RATE;\ \textcolor{comment}{//\ time\ per\ frame\ in\ seconds}}
\DoxyCodeLine{00056\ \ \ \ \ sf::RenderWindow\ m\_window;}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ DEFAULT\_VIEW\_WIDTH\ =\ 512.0f;}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ DEFAULT\_VIEW\_HEIGHT\ =\ 512.0f;\ \textcolor{comment}{//\ Window\ initial\ size}}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{float}\ DEFAULT\_FRAME\_RATE\ =\ 120.0f;}
\DoxyCodeLine{00060\ \};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ }

\end{DoxyCode}
